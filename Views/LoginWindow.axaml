<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="500"
        x:Class="miniJogo.Views.LoginWindow"
        Title="Mini Jogo LEDs - Login"
        Width="600"
        Height="500"
        WindowStartupLocation="CenterScreen"
        CanResize="False"
        Background="#1A202C">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#E53E3E" Padding="20">
            <StackPanel HorizontalAlignment="Center">
                <TextBlock Text="ðŸŽ® Mini Jogo LEDs" 
                          FontSize="32" 
                          FontWeight="Bold" 
                          Foreground="White" 
                          HorizontalAlignment="Center" />
                <TextBlock Text="Sistema de AutenticaÃ§Ã£o" 
                          FontSize="16" 
                          Foreground="White" 
                          Opacity="0.9"
                          HorizontalAlignment="Center" 
                          Margin="0,5,0,0" />
            </StackPanel>
        </Border>

        <!-- Login Form -->
        <Border Grid.Row="1" Padding="40">
            <StackPanel Spacing="25" MaxWidth="350" HorizontalAlignment="Center" VerticalAlignment="Center">
                
                <!-- Game Logo/Icon -->
                <Ellipse Width="80" Height="80" Fill="#38A169" HorizontalAlignment="Center">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" OffsetX="2" OffsetY="2" />
                    </Ellipse.Effect>
                </Ellipse>
                
                <!-- Login Instructions -->
                <TextBlock Text="Digite seu cÃ³digo de acesso e escolha o jogo" 
                          FontSize="18" 
                          FontWeight="Medium"
                          Foreground="White" 
                          HorizontalAlignment="Center" 
                          TextAlignment="Center" />

                <!-- Name Input (for clients) -->
                <StackPanel x:Name="NamePanel" Spacing="8">
                    <TextBlock Text="ðŸ“ Seu Nome:" 
                              FontSize="14" 
                              FontWeight="Medium" 
                              Foreground="#CBD5E0" />
                    <TextBox x:Name="NameTextBox" 
                            Watermark="Digite seu nome aqui..." 
                            Padding="15,12" 
                            FontSize="16"
                            CornerRadius="8"
                            Background="#2D3748"
                            Foreground="White"
                            BorderBrush="#4A5568"
                            BorderThickness="2"
                            KeyDown="NameTextBox_KeyDown" />
                </StackPanel>

                <!-- Code Input -->
                <StackPanel Spacing="8">
                    <TextBlock Text="ðŸ”‘ CÃ³digo de Acesso:" 
                              FontSize="14" 
                              FontWeight="Medium" 
                              Foreground="#CBD5E0" />
                    <TextBox x:Name="CodeTextBox" 
                            Watermark="Digite o cÃ³digo..." 
                            Padding="15,12" 
                            FontSize="18"
                            FontWeight="Bold"
                            CornerRadius="8"
                            Background="#2D3748"
                            Foreground="White"
                            BorderBrush="#4A5568"
                            BorderThickness="2"
                            HorizontalContentAlignment="Center"
                            TextChanged="CodeTextBox_TextChanged"
                            KeyDown="CodeTextBox_KeyDown" />
                </StackPanel>

                <!-- Game Mode Selection (for clients) -->
                <StackPanel x:Name="GameModePanel" Spacing="12">
                    <TextBlock Text="ðŸŽ® Escolha seu Jogo:" 
                              FontSize="14" 
                              FontWeight="Medium" 
                              Foreground="#CBD5E0" />
                    
                    <ComboBox x:Name="GameModeComboBox" 
                             SelectionChanged="GameModeComboBox_SelectionChanged"
                             Padding="15,12" 
                             FontSize="14"
                             CornerRadius="8"
                             Background="#2D3748"
                             Foreground="White"
                             BorderBrush="#4A5568"
                             BorderThickness="2">
                        <ComboBoxItem Content="ðŸŽ¯ Pega-Luz" Tag="1" />
                        <ComboBoxItem Content="ðŸ§  SequÃªncia Maluca" Tag="2" />
                        <ComboBoxItem Content="ðŸ± Gato e Rato" Tag="3" />
                        <ComboBoxItem Content="â˜„ï¸ Esquiva Meteoros" Tag="4" />
                        <ComboBoxItem Content="ðŸŽ¸ Guitar Hero" Tag="5" />
                        <ComboBoxItem Content="ðŸŽ² Roleta Russa" Tag="6" />
                        <ComboBoxItem Content="âš¡ Lightning Strike" Tag="7" />
                        <ComboBoxItem Content="ðŸŽ¯ Sniper Mode" Tag="8" />
                    </ComboBox>

                    <!-- Game Instructions -->
                    <Border Background="#2A4A5C" 
                           CornerRadius="8" 
                           Padding="15" 
                           BorderBrush="#4A90A4" 
                           BorderThickness="1">
                        <ScrollViewer MaxHeight="120" VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="GameInstructionsText" 
                                      Text="ðŸŽ¯ PEGA-LUZ:&#x0a;â€¢ Pressione 0-9, A-F quando o LED acender&#x0a;â€¢ Seja rÃ¡pido! LEDs apagam sozinhos&#x0a;â€¢ +10 pontos por acerto&#x0a;â€¢ +5 pontos por velocidade"
                                      FontSize="12" 
                                      Foreground="#E2E8F0" 
                                      TextWrapping="Wrap" />
                        </ScrollViewer>
                    </Border>
                </StackPanel>

                <!-- Status Message -->
                <TextBlock x:Name="StatusText" 
                          Text="" 
                          FontSize="14" 
                          FontWeight="Medium"
                          HorizontalAlignment="Center" 
                          TextAlignment="Center"
                          TextWrapping="Wrap" />

                <!-- Login Button -->
                <Button x:Name="LoginButton" 
                       Content="ðŸš€ Entrar no Jogo" 
                       Click="LoginButton_Click"
                       Padding="20,15" 
                       FontSize="16" 
                       FontWeight="Bold"
                       CornerRadius="10"
                       Background="#38A169"
                       Foreground="White"
                       HorizontalAlignment="Stretch"
                       IsEnabled="False">
                    <Button.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="5" OffsetX="1" OffsetY="2" />
                    </Button.Effect>
                </Button>

                <!-- Help Text -->
                <StackPanel Spacing="8">
                    <TextBlock Text="ðŸ’¡ Dicas:" 
                              FontSize="13" 
                              FontWeight="Bold" 
                              Foreground="#A0AEC0" 
                              HorizontalAlignment="Center" />
                    <TextBlock Text="â€¢ Digite seu nome, cÃ³digo do bilhete e escolha o jogo&#x0a;â€¢ Administradores: Apenas o cÃ³digo especial" 
                              FontSize="12" 
                              Foreground="#718096" 
                              HorizontalAlignment="Center" 
                              TextAlignment="Center"
                              TextWrapping="Wrap" />
                </StackPanel>

                <!-- Admin Tools (Hidden by default) -->
                <Border x:Name="AdminPanel" 
                       Background="#2D3748" 
                       CornerRadius="8" 
                       Padding="15" 
                       IsVisible="False">
                    <StackPanel Spacing="10">
                        <TextBlock Text="ðŸ”§ Ferramentas de Administrador" 
                                  FontSize="14" 
                                  FontWeight="Bold" 
                                  Foreground="#E2E8F0" 
                                  HorizontalAlignment="Center" />
                        <Button x:Name="GenerateCodesButton" 
                               Content="ðŸ“„ Gerar CÃ³digos de Cliente" 
                               Click="GenerateCodesButton_Click"
                               Padding="10,8" 
                               FontSize="13"
                               CornerRadius="6"
                               Background="#3182CE"
                               Foreground="White"
                               HorizontalAlignment="Stretch" />
                    </StackPanel>
                </Border>

            </StackPanel>
        </Border>
    </Grid>
</Window>