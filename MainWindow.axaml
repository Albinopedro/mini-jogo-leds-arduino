<Window
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignWidth="1200"
    d:DesignHeight="800"
    x:Class="miniJogo.MainWindow"
    x:CompileBindings="True"
    Title="Mini Jogo LEDs - Arduino Gaming Platform"
    Width="1200"
    Height="800"
    MinWidth="1000"
    MinHeight="600"
    WindowStartupLocation="CenterScreen"
    WindowState="FullScreen"
    KeyDown="Window_KeyDown"
    KeyUp="Window_KeyUp"
    Focusable="True"
    Background="#0F0F23"
    ExtendClientAreaToDecorationsHint="True">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <!-- Enhanced Header with Better Visual Hierarchy -->
    <Border Grid.Row="0" Padding="25">
      <Border.Background>
        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,0%">
          <GradientStop Color="#5E60CE" Offset="0"/>
          <GradientStop Color="#7400B8" Offset="1"/>
        </LinearGradientBrush>
      </Border.Background>
      <Border.Effect>
        <DropShadowEffect BlurRadius="15" OffsetX="0" OffsetY="5" Color="#40000000"/>
      </Border.Effect>

      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <!-- Left: Title and Player Info -->
        <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="25">
          <StackPanel Orientation="Horizontal" Spacing="15">
            <TextBlock Text="ðŸŽ®" FontSize="42" VerticalAlignment="Center" />
            <StackPanel Spacing="5">
              <TextBlock
                Text="Mini Jogo LEDs - Arduino"
                FontSize="32"
                FontWeight="Bold"
                Foreground="White"
                VerticalAlignment="Center">
                <TextBlock.Effect>
                  <DropShadowEffect BlurRadius="8" OffsetX="0" OffsetY="2" Color="#30000000"/>
                </TextBlock.Effect>
              </TextBlock>
              <TextBlock
                Text="Sistema de Jogos Interativos"
                FontSize="14"
                FontWeight="Medium"
                Foreground="#E2E8F0"
                Opacity="0.9"
                VerticalAlignment="Center"
              />
            </StackPanel>
          </StackPanel>

          <Border CornerRadius="15" Padding="20,12">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#1E1E3F" Offset="0"/>
                <GradientStop Color="#2A2A5A" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect BlurRadius="10" OffsetX="0" OffsetY="3" Color="#20000000"/>
            </Border.Effect>
            <TextBlock
              x:Name="PlayerDisplayText"
              Text="ðŸ‘¤ Jogador: Carregando..."
              Foreground="White"
              FontWeight="Medium"
              FontSize="16"
              VerticalAlignment="Center"
            />
          </Border>
        </StackPanel>

        <!-- Right: Enhanced Connection Status -->
        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="20">
          <TextBlock
            Text="ðŸ”Œ Arduino:"
            Foreground="White"
            VerticalAlignment="Center"
            FontWeight="Medium"
            FontSize="16"
          />
          <Border x:Name="ConnectionBorder" CornerRadius="15" Padding="18,12">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#1E1E3F" Offset="0"/>
                <GradientStop Color="#2A2A5A" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect BlurRadius="10" OffsetX="0" OffsetY="3" Color="#20000000"/>
            </Border.Effect>
            <StackPanel Orientation="Horizontal" Spacing="12">
              <Ellipse
                x:Name="ConnectionStatus"
                Width="16"
                Height="16"
                Fill="#4FACFE">
                <Ellipse.Effect>
                  <DropShadowEffect BlurRadius="8" OffsetX="0" OffsetY="0" Color="#4FACFE"/>
                </Ellipse.Effect>
              </Ellipse>
              <TextBlock
                x:Name="ConnectionText"
                Text="Conectando..."
                Foreground="White"
                FontWeight="Medium"
                FontSize="14"
                VerticalAlignment="Center"
              />
            </StackPanel>
          </Border>
        </StackPanel>
      </Grid>
    </Border>

    <!-- Enhanced Main Content Area -->
    <Grid Grid.Row="1" Margin="30">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="400" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>

      <!-- Enhanced Left Panel - Controls with Better Visual Grouping -->
      <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto" Padding="0,0,15,0">
        <StackPanel Spacing="25">

          <!-- Enhanced Player Info Panel -->
          <Border CornerRadius="20" Padding="25">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#1E1E3F" Offset="0"/>
                <GradientStop Color="#2A2A5A" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect BlurRadius="20" OffsetX="0" OffsetY="10" Color="#25000000"/>
            </Border.Effect>
            <StackPanel Spacing="18">
              <StackPanel Orientation="Horizontal" Spacing="12">
                <TextBlock Text="ðŸ‘¤" FontSize="22" VerticalAlignment="Center" />
                <TextBlock
                  Text="InformaÃ§Ãµes do Jogador"
                  FontSize="18"
                  FontWeight="Bold"
                  Foreground="White"
                  VerticalAlignment="Center"
                />
              </StackPanel>

              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*" />
                  <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <TextBox
                  x:Name="PlayerNameTextBox"
                  Grid.Column="0"
                  Watermark="Digite seu nome..."
                  VerticalContentAlignment="Center"
                  Padding="16,14"
                  CornerRadius="12"
                  FontSize="14"
                  BorderThickness="2"
                  BorderBrush="#5E60CE"
                  Foreground="White">
                  <TextBox.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#2D2D5C" Offset="0"/>
                      <GradientStop Color="#3A3A6B" Offset="1"/>
                    </LinearGradientBrush>
                  </TextBox.Background>
                </TextBox>
                <Button
                  x:Name="SavePlayerButton"
                  Grid.Column="1"
                  Content="ðŸ’¾"
                  Click="SavePlayerButton_Click"
                  ToolTip.Tip="Salvar Nome"
                  Margin="12,0,0,0"
                  Width="50"
                  Height="46"
                  CornerRadius="12"
                  VerticalContentAlignment="Center"
                  HorizontalContentAlignment="Center"
                  Foreground="White"
                  FontSize="18">
                  <Button.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#5E60CE" Offset="0"/>
                      <GradientStop Color="#7400B8" Offset="1"/>
                    </LinearGradientBrush>
                  </Button.Background>
                  <Button.Effect>
                    <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                  </Button.Effect>
                </Button>
              </Grid>
            </StackPanel>
          </Border>

          <!-- Enhanced Game Selection Panel -->
          <Border CornerRadius="20" Padding="25">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#1E1E3F" Offset="0"/>
                <GradientStop Color="#2A2A5A" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect BlurRadius="20" OffsetX="0" OffsetY="10" Color="#25000000"/>
            </Border.Effect>
            <StackPanel Spacing="18">
              <StackPanel Orientation="Horizontal" Spacing="12">
                <TextBlock Text="ðŸŽ¯" FontSize="22" VerticalAlignment="Center" />
                <TextBlock
                  Text="SeleÃ§Ã£o de Jogo"
                  FontSize="18"
                  FontWeight="Bold"
                  Foreground="White"
                  VerticalAlignment="Center"
                />
              </StackPanel>

              <ComboBox
                x:Name="GameModeComboBox"
                SelectionChanged="GameModeComboBox_SelectionChanged"
                HorizontalAlignment="Stretch"
                Padding="16,14"
                CornerRadius="12"
                FontSize="14"
                BorderThickness="2"
                BorderBrush="#5E60CE"
                Foreground="White">
                <ComboBox.Background>
                  <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#2D2D5C" Offset="0"/>
                    <GradientStop Color="#3A3A6B" Offset="1"/>
                  </LinearGradientBrush>
                </ComboBox.Background>
                <ComboBoxItem Content="ðŸŽ¯ Pega-Luz" Tag="1" />
                <ComboBoxItem Content="ðŸ§  SequÃªncia Maluca" Tag="2" />
                <ComboBoxItem Content="ðŸ± Gato e Rato" Tag="3" />
                <ComboBoxItem Content="â˜„ï¸ Esquiva Meteoros" Tag="4" />
                <ComboBoxItem Content="ðŸŽ¸ Guitar Hero" Tag="5" />
                <ComboBoxItem Content="âš¡ Lightning Strike" Tag="6" />
                <ComboBoxItem Content="ðŸŽ¯ Sniper Mode" Tag="7" />
              </ComboBox>

              <Border CornerRadius="12" Padding="18" BorderBrush="#5E60CE" BorderThickness="1">
                <Border.Background>
                  <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#2D2D5C" Offset="0"/>
                    <GradientStop Color="#3A3A6B" Offset="1"/>
                  </LinearGradientBrush>
                </Border.Background>
                <TextBlock
                  x:Name="GameDescriptionText"
                  Text="Selecione um jogo para ver a descriÃ§Ã£o..."
                  TextWrapping="Wrap"
                  Foreground="#E2E8F0"
                  FontSize="13"
                  LineHeight="20"
                />
              </Border>
            </StackPanel>
          </Border>

          <!-- Enhanced Game Controls Panel -->
          <Border CornerRadius="20" Padding="25">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#1E1E3F" Offset="0"/>
                <GradientStop Color="#2A2A5A" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect BlurRadius="20" OffsetX="0" OffsetY="10" Color="#25000000"/>
            </Border.Effect>
            <StackPanel Spacing="18">
              <StackPanel Orientation="Horizontal" Spacing="12">
                <TextBlock Text="ðŸŽ®" FontSize="22" VerticalAlignment="Center" />
                <TextBlock
                  Text="Controles do Jogo"
                  FontSize="18"
                  FontWeight="Bold"
                  Foreground="White"
                  VerticalAlignment="Center"
                />
              </StackPanel>

              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*" />
                  <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition Height="Auto" />
                  <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Button
                  x:Name="StartGameButton"
                  Grid.Column="0"
                  Grid.Row="0"
                  Content="â–¶ï¸ Iniciar"
                  Click="StartGameButton_Click"
                  IsEnabled="False"
                  Margin="0,0,8,12"
                  Padding="18,14"
                  CornerRadius="12"
                  FontWeight="SemiBold"
                  Foreground="White"
                  FontSize="14">
                  <Button.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#5E60CE" Offset="0"/>
                      <GradientStop Color="#7400B8" Offset="1"/>
                    </LinearGradientBrush>
                  </Button.Background>
                  <Button.Effect>
                    <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                  </Button.Effect>
                </Button>

                <Button
                  x:Name="StopGameButton"
                  Grid.Column="1"
                  Grid.Row="0"
                  Content="â—¼ Parar"
                  Click="StopGameButton_Click"
                  IsEnabled="False"
                  Margin="8,0,0,12"
                  Padding="18,14"
                  CornerRadius="12"
                  FontWeight="SemiBold"
                  Foreground="White"
                  FontSize="14">
                  <Button.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#F56565" Offset="0"/>
                      <GradientStop Color="#C53030" Offset="1"/>
                    </LinearGradientBrush>
                  </Button.Background>
                  <Button.Effect>
                    <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                  </Button.Effect>
                </Button>

                <Button
                  x:Name="ResetScoreButton"
                  Grid.Column="0"
                  Grid.Row="1"
                  Content="ðŸ”„ Reset"
                  Click="ResetScoreButton_Click"
                  Margin="0,0,8,0"
                  Padding="18,14"
                  CornerRadius="12"
                  FontWeight="SemiBold"
                  Foreground="White"
                  FontSize="14">
                  <Button.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#9F7AEA" Offset="0"/>
                      <GradientStop Color="#805AD5" Offset="1"/>
                    </LinearGradientBrush>
                  </Button.Background>
                  <Button.Effect>
                    <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                  </Button.Effect>
                </Button>

                <Button
                  x:Name="ViewScoresButton"
                  Grid.Column="1"
                  Grid.Row="1"
                  Content="ðŸ† Ranks"
                  Click="ViewScoresButton_Click"
                  Margin="8,0,0,0"
                  Padding="18,14"
                  CornerRadius="12"
                  FontWeight="SemiBold"
                  Foreground="White"
                  FontSize="14">
                  <Button.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#48BB78" Offset="0"/>
                      <GradientStop Color="#38A169" Offset="1"/>
                    </LinearGradientBrush>
                  </Button.Background>
                  <Button.Effect>
                    <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                  </Button.Effect>
                </Button>
              </Grid>

              <!-- Enhanced Shortcuts Info -->
              <Border CornerRadius="12" Padding="15" BorderBrush="#5E60CE" BorderThickness="1">
                <Border.Background>
                  <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#2D2D5C" Offset="0"/>
                    <GradientStop Color="#3A3A6B" Offset="1"/>
                  </LinearGradientBrush>
                </Border.Background>
                <StackPanel Spacing="8">
                  <TextBlock
                    Text="âŒ¨ï¸ Atalhos RÃ¡pidos:"
                    FontSize="14"
                    FontWeight="Bold"
                    Foreground="#B794F6"
                    HorizontalAlignment="Center"
                  />
                  <TextBlock
                    Text="EspaÃ§o=Iniciar | F2=Parar | F3=Reset | F4=Ranks"
                    Foreground="#E2E8F0"
                    FontSize="11"
                    HorizontalAlignment="Center"
                    FontWeight="Medium"
                    TextAlignment="Center"
                  />
                  <TextBlock
                    Text="F7=Matrix | F8=Pulso | F9=Fogos | F11=Tela Cheia"
                    Foreground="#E2E8F0"
                    FontSize="11"
                    HorizontalAlignment="Center"
                    FontWeight="Medium"
                    TextAlignment="Center"
                  />
                </StackPanel>
              </Border>
            </StackPanel>
          </Border>

          <!-- Enhanced Arduino Connection Panel -->
          <Border CornerRadius="20" Padding="25">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#1E1E3F" Offset="0"/>
                <GradientStop Color="#2A2A5A" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect BlurRadius="20" OffsetX="0" OffsetY="10" Color="#25000000"/>
            </Border.Effect>
            <StackPanel Spacing="18">
              <StackPanel Orientation="Horizontal" Spacing="12">
                <TextBlock Text="ðŸ”Œ" FontSize="22" VerticalAlignment="Center" />
                <TextBlock
                  Text="ConexÃ£o Arduino"
                  FontSize="18"
                  FontWeight="Bold"
                  Foreground="White"
                  VerticalAlignment="Center"
                />
              </StackPanel>

              <ComboBox
                x:Name="PortComboBox"
                HorizontalAlignment="Stretch"
                Padding="16,14"
                CornerRadius="12"
                FontSize="14"
                BorderThickness="2"
                BorderBrush="#5E60CE"
                Foreground="White">
                <ComboBox.Background>
                  <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#2D2D5C" Offset="0"/>
                    <GradientStop Color="#3A3A6B" Offset="1"/>
                  </LinearGradientBrush>
                </ComboBox.Background>
              </ComboBox>

              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="Auto" />
                  <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button
                  x:Name="RefreshPortsButton"
                  Grid.Column="0"
                  Content="ðŸ”„"
                  Click="RefreshPortsButton_Click"
                  ToolTip.Tip="Atualizar Portas"
                  Width="50"
                  Height="46"
                  CornerRadius="12"
                  Margin="0,0,12,0"
                  Foreground="White"
                  FontSize="18">
                  <Button.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#9F7AEA" Offset="0"/>
                      <GradientStop Color="#805AD5" Offset="1"/>
                    </LinearGradientBrush>
                  </Button.Background>
                  <Button.Effect>
                    <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                  </Button.Effect>
                </Button>

                <Button
                  x:Name="ConnectButton"
                  Grid.Column="1"
                  Content="ðŸ”— Conectar"
                  Click="ConnectButton_Click"
                  Padding="18,14"
                  CornerRadius="12"
                  FontWeight="SemiBold"
                  Foreground="White"
                  FontSize="14">
                  <Button.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#5E60CE" Offset="0"/>
                      <GradientStop Color="#7400B8" Offset="1"/>
                    </LinearGradientBrush>
                  </Button.Background>
                  <Button.Effect>
                    <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                  </Button.Effect>
                </Button>
              </Grid>
            </StackPanel>
          </Border>

          <!-- Enhanced Tools Panel -->
          <Border CornerRadius="20" Padding="25">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#1E1E3F" Offset="0"/>
                <GradientStop Color="#2A2A5A" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect BlurRadius="20" OffsetX="0" OffsetY="10" Color="#25000000"/>
            </Border.Effect>
            <StackPanel Spacing="18">
              <StackPanel Orientation="Horizontal" Spacing="12">
                <TextBlock Text="ðŸ”§" FontSize="22" VerticalAlignment="Center" />
                <TextBlock
                  Text="Ferramentas"
                  FontSize="18"
                  FontWeight="Bold"
                  Foreground="White"
                  VerticalAlignment="Center"
                />
              </StackPanel>

              <Button
                x:Name="OpenDebugButton"
                Content="ðŸ” Console Debug"
                Click="OpenDebugButton_Click"
                HorizontalAlignment="Stretch"
                Padding="18,14"
                CornerRadius="12"
                FontWeight="SemiBold"
                Foreground="White"
                FontSize="14"
                Margin="0,0,0,10">
                <Button.Background>
                  <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#4299E1" Offset="0"/>
                    <GradientStop Color="#3182CE" Offset="1"/>
                  </LinearGradientBrush>
                </Button.Background>
                <Button.Effect>
                  <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                </Button.Effect>
              </Button>

              <Button
                x:Name="InstructionsButton"
                Content="ðŸ“– Ver InstruÃ§Ãµes"
                Click="InstructionsButton_Click"
                HorizontalAlignment="Stretch"
                Padding="18,14"
                CornerRadius="12"
                FontWeight="SemiBold"
                Foreground="White"
                FontSize="14">
                <Button.Background>
                  <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#48BB78" Offset="0"/>
                    <GradientStop Color="#38A169" Offset="1"/>
                  </LinearGradientBrush>
                </Button.Background>
                <Button.Effect>
                  <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
                </Button.Effect>
              </Button>
            </StackPanel>
          </Border>

        </StackPanel>
      </ScrollViewer>

      <!-- Enhanced Right Panel - Game Display -->
      <Grid Grid.Column="1" Margin="20,0,0,0">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Enhanced Game Status Bar -->
        <Border Grid.Row="0" CornerRadius="20" Padding="30,25" Margin="0,0,0,20">
          <Border.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
              <GradientStop Color="#1E1E3F" Offset="0"/>
              <GradientStop Color="#2A2A5A" Offset="1"/>
            </LinearGradientBrush>
          </Border.Background>
          <Border.Effect>
            <DropShadowEffect BlurRadius="20" OffsetX="0" OffsetY="10" Color="#25000000"/>
          </Border.Effect>
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
                <TextBlock Text="ðŸŽ¯" FontSize="16" VerticalAlignment="Center" />
                <TextBlock
                  Text="Jogo Atual"
                  Foreground="#A0AEC0"
                  HorizontalAlignment="Center"
                  FontSize="14"
                  FontWeight="Medium"
                />
              </StackPanel>
              <TextBlock
                x:Name="CurrentGameText"
                Text="Nenhum"
                FontSize="20"
                FontWeight="Bold"
                Foreground="White"
                HorizontalAlignment="Center"
                Margin="0,8,0,0"
              />
            </StackPanel>

            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
                <TextBlock Text="ðŸ†" FontSize="16" VerticalAlignment="Center" />
                <TextBlock
                  Text="PontuaÃ§Ã£o"
                  Foreground="#A0AEC0"
                  HorizontalAlignment="Center"
                  FontSize="14"
                  FontWeight="Medium"
                />
              </StackPanel>
              <TextBlock
                x:Name="ScoreText"
                Text="0"
                FontSize="20"
                FontWeight="Bold"
                Foreground="#5E60CE"
                HorizontalAlignment="Center"
                Margin="0,8,0,0"
              />
            </StackPanel>

            <StackPanel Grid.Column="2" HorizontalAlignment="Center">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
                <TextBlock Text="ðŸ“Š" FontSize="16" VerticalAlignment="Center" />
                <TextBlock
                  Text="NÃ­vel"
                  Foreground="#A0AEC0"
                  HorizontalAlignment="Center"
                  FontSize="14"
                  FontWeight="Medium"
                />
              </StackPanel>
              <TextBlock
                x:Name="LevelText"
                Text="1"
                FontSize="20"
                FontWeight="Bold"
                Foreground="#9F7AEA"
                HorizontalAlignment="Center"
                Margin="0,8,0,0"
              />
            </StackPanel>

            <StackPanel Grid.Column="3" HorizontalAlignment="Center">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
                <TextBlock Text="â±ï¸" FontSize="16" VerticalAlignment="Center" />
                <TextBlock
                  Text="Tempo"
                  Foreground="#A0AEC0"
                  HorizontalAlignment="Center"
                  FontSize="14"
                  FontWeight="Medium"
                />
              </StackPanel>
              <TextBlock
                x:Name="TimeText"
                Text="00:00"
                FontSize="20"
                FontWeight="Bold"
                Foreground="#48BB78"
                HorizontalAlignment="Center"
                Margin="0,8,0,0"
              />
            </StackPanel>
          </Grid>
        </Border>

        <!-- Enhanced LED Matrix and Game Area -->
        <Border Grid.Row="1" CornerRadius="20" Padding="35">
          <Border.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
              <GradientStop Color="#1E1E3F" Offset="0"/>
              <GradientStop Color="#2A2A5A" Offset="1"/>
            </LinearGradientBrush>
          </Border.Background>
          <Border.Effect>
            <DropShadowEffect BlurRadius="25" OffsetX="0" OffsetY="15" Color="#30000000"/>
          </Border.Effect>
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto" />
              <RowDefinition Height="*" />
              <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Enhanced Matrix Title -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="15" Margin="0,0,0,30">
              <TextBlock Text="ðŸ’¡" FontSize="28" VerticalAlignment="Center" />
              <TextBlock
                Text="Matriz de LEDs (4x4)"
                FontSize="24"
                FontWeight="Bold"
                Foreground="White"
                VerticalAlignment="Center">
                <TextBlock.Effect>
                  <DropShadowEffect BlurRadius="8" OffsetX="0" OffsetY="2" Color="#30000000"/>
                </TextBlock.Effect>
              </TextBlock>
            </StackPanel>

            <!-- Enhanced LED Matrix -->
            <Viewbox Grid.Row="1" Stretch="Uniform" MaxWidth="500" MaxHeight="500">
              <Border CornerRadius="20" Padding="25" BorderBrush="#5E60CE" BorderThickness="3">
                <Border.Background>
                  <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#0F0F23" Offset="0"/>
                    <GradientStop Color="#1A1A3A" Offset="1"/>
                  </LinearGradientBrush>
                </Border.Background>
                <Border.Effect>
                  <DropShadowEffect BlurRadius="15" OffsetX="0" OffsetY="8" Color="#40000000"/>
                </Border.Effect>
                <Grid
                  x:Name="LedMatrix"
                  Width="400"
                  Height="400"
                  ShowGridLines="False">
                  <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                  </Grid.RowDefinitions>
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                  </Grid.ColumnDefinitions>
                </Grid>
              </Border>
            </Viewbox>

            <!-- Enhanced Game Status Message -->
            <Border
              Grid.Row="2"
              CornerRadius="15"
              Padding="25"
              Margin="0,30,0,0"
              BorderBrush="#5E60CE"
              BorderThickness="2">
              <Border.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#2D2D5C" Offset="0"/>
                  <GradientStop Color="#3A3A6B" Offset="1"/>
                </LinearGradientBrush>
              </Border.Background>
              <Border.Effect>
                <DropShadowEffect BlurRadius="12" OffsetX="0" OffsetY="5" Color="#20000000"/>
              </Border.Effect>
              <TextBlock
                x:Name="StatusText"
                Text="ðŸš€ Pronto para a aventura! Conecte o Arduino e escolha seu jogo favorito."
                Foreground="#E2E8F0"
                TextWrapping="Wrap"
                HorizontalAlignment="Center"
                FontWeight="Medium"
                FontSize="16"
                LineHeight="24"
                TextAlignment="Center"
              />
            </Border>
          </Grid>
        </Border>

        <!-- Enhanced Quick Actions -->
        <Border Grid.Row="2" CornerRadius="20" Padding="25" Margin="0,20,0,0">
          <Border.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
              <GradientStop Color="#1E1E3F" Offset="0"/>
              <GradientStop Color="#2A2A5A" Offset="1"/>
            </LinearGradientBrush>
          </Border.Background>
          <Border.Effect>
            <DropShadowEffect BlurRadius="20" OffsetX="0" OffsetY="10" Color="#25000000"/>
          </Border.Effect>
          <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="20">
            <Button
              x:Name="QuickStartButton"
              Content="âš¡ InÃ­cio RÃ¡pido"
              Click="QuickStartButton_Click"
              Padding="25,15"
              CornerRadius="12"
              FontWeight="SemiBold"
              Foreground="White"
              FontSize="14">
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#5E60CE" Offset="0"/>
                  <GradientStop Color="#7400B8" Offset="1"/>
                </LinearGradientBrush>
              </Button.Background>
              <Button.Effect>
                <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
              </Button.Effect>
            </Button>

            <Button
              x:Name="SettingsButton"
              Content="âš™ï¸ ConfiguraÃ§Ãµes"
              Click="SettingsButton_Click"
              Padding="25,15"
              CornerRadius="12"
              FontWeight="SemiBold"
              Foreground="White"
              FontSize="14">
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#4299E1" Offset="0"/>
                  <GradientStop Color="#3182CE" Offset="1"/>
                </LinearGradientBrush>
              </Button.Background>
              <Button.Effect>
                <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
              </Button.Effect>
            </Button>

            <Button
              x:Name="HelpButton"
              Content="â“ Ajuda"
              Click="HelpButton_Click"
              Padding="25,15"
              CornerRadius="12"
              FontWeight="SemiBold"
              Foreground="White"
              FontSize="14">
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#48BB78" Offset="0"/>
                  <GradientStop Color="#38A169" Offset="1"/>
                </LinearGradientBrush>
              </Button.Background>
              <Button.Effect>
                <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
              </Button.Effect>
            </Button>

            <Button
              x:Name="GenerateCodesButton"
              Content="ðŸ“„ Gerar CÃ³digos"
              Click="GenerateCodesButton_Click"
              Padding="25,15"
              CornerRadius="12"
              FontWeight="SemiBold"
              Foreground="White"
              FontSize="14"
              IsVisible="False">
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#F6AD55" Offset="0"/>
                  <GradientStop Color="#ED8936" Offset="1"/>
                </LinearGradientBrush>
              </Button.Background>
              <Button.Effect>
                <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
              </Button.Effect>
            </Button>

            <Button
              x:Name="LogoutButton"
              Content="ðŸšª Logout"
              Click="LogoutButton_Click"
              Padding="25,15"
              CornerRadius="12"
              Foreground="White"
              FontWeight="SemiBold"
              FontSize="14"
              IsVisible="True">
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#F56565" Offset="0"/>
                  <GradientStop Color="#C53030" Offset="1"/>
                </LinearGradientBrush>
              </Button.Background>
              <Button.Effect>
                <DropShadowEffect Color="#20000000" OffsetX="0" OffsetY="3" BlurRadius="10"/>
              </Button.Effect>
            </Button>
          </StackPanel>
        </Border>

      </Grid>
    </Grid>

    <!-- Enhanced Footer -->
    <Border Grid.Row="2" Padding="25,18" Margin="0,15,0,0">
      <Border.Background>
        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,0%">
          <GradientStop Color="#1E1E3F" Offset="0"/>
          <GradientStop Color="#2A2A5A" Offset="1"/>
        </LinearGradientBrush>
      </Border.Background>
      <Border.Effect>
        <DropShadowEffect BlurRadius="10" OffsetX="0" OffsetY="-3" Color="#20000000"/>
      </Border.Effect>
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0" Orientation="Vertical" Spacing="8">
          <TextBlock
            Text="âŒ¨ï¸ Controles: W,E,R,T / S,D,F,G / Y,U,I,O / H,J,K,L = LEDs | Setas = NavegaÃ§Ã£o | Enter = Confirmar | Esc = Cancelar"
            Foreground="White"
            VerticalAlignment="Center"
            FontSize="14"
            FontWeight="Medium"
            Opacity="0.9"
          />
          <TextBlock
            Text="ðŸŽ­ Efeitos Arduino: F5 = ðŸ”„ Atualizar Portas | F6 = â¹ï¸ Parar FX | F7 = ðŸ’š Matrix | F8 = ðŸ’“ Pulso | F9 = ðŸŽ† Fogos | F10 = âœ¨ Demo | F11 = ðŸ–¥ï¸ Tela Cheia"
            Foreground="White"
            VerticalAlignment="Center"
            FontSize="13"
            FontWeight="Medium"
            Opacity="0.8"
          />
        </StackPanel>

        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="20">
          <Border CornerRadius="8" Padding="12,6" Background="#2D2D5C">
            <TextBlock
              Text="v2.3.0"
              Foreground="White"
              VerticalAlignment="Center"
              FontSize="13"
              FontWeight="Medium"
            />
          </Border>
          <TextBlock
            Text="â€¢"
            Foreground="White"
            VerticalAlignment="Center"
            Opacity="0.7"
          />
          <TextBlock
            Text="Arduino Gaming Platform"
            Foreground="White"
            VerticalAlignment="Center"
            FontSize="13"
            FontWeight="Medium"
            Opacity="0.8"
          />
        </StackPanel>
      </Grid>
    </Border>

  </Grid>
</Window>
